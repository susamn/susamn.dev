---
import Layout from '../layouts/Layout.astro';

const certifications = [
  {
    name: "Generative AI with Large Language Models",
    issuer: "DeepLearning.AI",
    date: "Apr 2024",
    id: "WBQ8STH24SHC",
    link: "https://coursera.org/share/764337b6e2da10f33ecc2511febde49d",
    icon: "/icons/coursera.svg",
    color: "blue"
  },
  {
    name: "Introduction to Generative AI",
    issuer: "Google",
    date: "Mar 2024",
    id: "8454864",
    link: "https://www.cloudskillsboost.google/public_profiles/a78caa3f-fa4f-463a-8dbd-976a5911a09b/badges/8454864",
    icon: "/icons/google.svg",
    color: "amber"
  },
  {
    name: "Advanced Linux: The Linux Kernel",
    issuer: "LinkedIn",
    date: "Jan 2022",
    id: null,
    link: "https://www.linkedin.com/learning/certificates/4eaced8ad95403bac42715c0338ed00e64028dd6da35a8b4f5d71c506b3b9df7?trk=backfilled_certificate",
    icon: "/icons/linkedin.svg",
    color: "blue"
  },
  {
    name: "AWS Certified Developer – Associate",
    issuer: "Amazon Web Services (AWS)",
    date: "Mar 2021",
    id: null,
    link: "https://www.youracclaim.com/badges/3fbb4002-23fe-4996-95ab-e9bd3d5545f7?source=linked_in_profile",
    icon: "/icons/aws.svg",
    color: "amber"
  },
  {
    name: "Oracle Certified Professional, Java SE 6 Programmer",
    issuer: "Oracle",
    date: "Aug 2013",
    id: null,
    link: "https://www.youracclaim.com/badges/7cb26ee6-3a50-40e0-878f-e2e0f9426c32?source=linked_in_profile",
    icon: "/icons/oracle.svg",
    color: "red"
  }
];

// Group by year
const groupedCerts = certifications.reduce((acc, cert) => {
  const year = cert.date.split(' ')[1];
  if (!acc[year]) acc[year] = [];
  acc[year].push(cert);
  return acc;
}, {} as Record<string, typeof certifications>);

const sortedYears = Object.keys(groupedCerts).sort((a, b) => parseInt(b) - parseInt(a));
---

<Layout title="Certifications | Supratim Samanta">
	<!-- Page Header -->
	<header class="mb-10">
		<div class="flex items-center gap-4 mb-2">
			<h1 class="font-['Fraunces',_serif] text-3xl font-semibold text-stone-900">Certifications</h1>
			<div class="flex-1 h-px bg-stone-200"></div>
			<div class="flex items-center gap-3 text-sm">
				<span class="text-stone-500"><span class="font-semibold text-stone-700">{certifications.length}</span> certs</span>
				<span class="text-stone-300">·</span>
				<span class="text-stone-500"><span class="font-semibold text-amber-600">{new Set(certifications.map(c => c.issuer)).size}</span> issuers</span>
			</div>
		</div>
		<p class="text-stone-500">Professional credentials and continuous learning</p>
	</header>

	<!-- Certifications by Year -->
	<div class="space-y-10">
		{sortedYears.map((year) => (
			<section>
				<div class="flex items-center gap-4 mb-5">
					<h2 class="font-['Fraunces',_serif] text-lg font-semibold text-stone-800">{year}</h2>
					<div class="flex-1 h-px bg-stone-200"></div>
					<span class="text-sm text-stone-400">{groupedCerts[year].length} certification{groupedCerts[year].length > 1 ? 's' : ''}</span>
				</div>
				<div class="grid gap-4">
					{groupedCerts[year].map((cert) => (
						<a
							href={cert.link}
							target="_blank"
							rel="noopener noreferrer"
							class="group bg-white rounded-xl border border-stone-200 p-5 hover:border-amber-300 hover:shadow-md transition-all duration-200 flex items-start gap-4"
						>
							<div class="shrink-0 w-12 h-12 rounded-xl bg-stone-50 border border-stone-100 p-2.5 flex items-center justify-center group-hover:bg-amber-50 group-hover:border-amber-100 transition-colors">
								<img
									src={cert.icon}
									alt={`${cert.issuer} logo`}
									class="w-full h-full object-contain grayscale group-hover:grayscale-0 transition-all"
								/>
							</div>
							<div class="flex-1 min-w-0">
								<div class="flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-1">
									<h3 class="font-semibold text-stone-900 group-hover:text-amber-700 transition-colors leading-snug">
										{cert.name}
									</h3>
									<span class="text-xs font-medium text-stone-400 bg-stone-100 px-2.5 py-1 rounded-md whitespace-nowrap self-start">
										{cert.date}
									</span>
								</div>
								<p class="text-sm text-stone-500 mb-1">{cert.issuer}</p>
								{cert.id && (
									<p class="text-xs text-stone-400 font-mono">
										ID: {cert.id}
									</p>
								)}
							</div>
							<div class="self-center hidden sm:block">
								<svg class="w-5 h-5 text-stone-300 group-hover:text-amber-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
								</svg>
							</div>
						</a>
					))}
				</div>
			</section>
		))}
	</div>

	<!-- Footer Note -->
	<div class="mt-12 pt-8 border-t border-stone-200 text-center">
		<p class="text-sm text-stone-400">
			Credentials verified through respective issuing organizations
		</p>
	</div>
</Layout>
